<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">

      <div class="row">
        <div class="col-sm-12">
          <h3>Dashboard</h3>
        </div>
      </div>

      <!--Main Contents-->

      <div class="row">
        <div class="col-sm-12">

          <div class="row">

            <!--Complaint details concise report-->
            <div class="col-sm-4">
              <mat-progress-bar mode="indeterminate" *ngIf="enableComptConciseRptProgressBar"></mat-progress-bar>
              <mat-card>
              
                    <mat-toolbar>
                      <span>{{legalEntityMenuPrefModel.complaintMenuName}} Details</span>
                      <span style="flex: 1 1 auto;"></span>
                      <button mat-icon-button class="float-right" style="line-height: 0px;" (click)="popComplaintConciseRtp()">
                          <mat-icon svgIcon="refreshIcon"></mat-icon>
                      </button>
                    </mat-toolbar>

             

                <mat-card-content>
                  <mat-list>

                    <mat-list-item >
                      <p style="margin-top: 1rem;">Open</p>
                      <span style="flex: 1 1 auto;"></span>
                      <a style="text-align: left" routerLink="/legalentity/portal/rpt/open">{{complaintConciseRptModel.openComplaintCount == null ? 0 : complaintConciseRptModel.openComplaintCount}}</a>
                    </mat-list-item>

                    <mat-divider></mat-divider>

                    <mat-list-item >
                        <p style="margin-top: 1rem;">Assigned</p>
                        <span style="flex: 1 1 auto;"></span>
                        <a style="text-align: left" routerLink="/legalentity/portal/rpt/assigned">{{complaintConciseRptModel.assingedComplaintCount == null ? 0 : complaintConciseRptModel.assingedComplaintCount}}</a>
                    </mat-list-item>

                    <mat-divider></mat-divider>

                    <mat-list-item >
                        <p style="margin-top: 1rem;">In Progress</p>
                        <span style="flex: 1 1 auto;"></span>
                        <a style="text-align: left" routerLink="/legalentity/portal/rpt/inprogress">{{complaintConciseRptModel.inprogressComplaintCount == null ? 0 : complaintConciseRptModel.inprogressComplaintCount}}</a>
                    </mat-list-item>

                    <mat-divider></mat-divider>

                    <mat-list-item >
                        <p style="margin-top: 1rem;" >Closed</p>
                        <span style="flex: 1 1 auto;"></span>
                        <a style="text-align: left" routerLink="/legalentity/portal/rpt/closed">{{complaintConciseRptModel.closedComplaintCount == null ? 0 : complaintConciseRptModel.closedComplaintCount}}</a>
                    </mat-list-item>

                    <!--<mat-divider></mat-divider>

                    <mat-list-item > 
                        <p style="margin-top: 1rem;">Lead Time</p>
                        <span style="flex: 1 1 auto;"></span>
                        <a routerLink=".">{{complaintConciseRptModel.leadTimeComplaintCount == null ? 0 : complaintConciseRptModel.leadTimeComplaintCount}}</a>
                    </mat-list-item>-->

                  </mat-list>
                </mat-card-content>

              </mat-card>

              <mat-progress-bar mode="indeterminate" *ngIf="enableUnresolvedRptProgressBar"></mat-progress-bar>
              <mat-card>

                  <mat-toolbar>
                      <span>Unresolved {{legalEntityMenuPrefModel.complaintMenuName}}</span>
                      <span style="flex: 1 1 auto;"></span>
                      <button mat-icon-button class="float-right" style="line-height: 0px;" (click)="popUnreslovedComptRpt()">
                          <mat-icon svgIcon="refreshIcon"></mat-icon>
                      </button>
                  </mat-toolbar>

                  <mat-list>
                      <mat-list-item >
                        <p style="margin-top: 1rem;">More than {{unreslovedComptDayLimit}} days</p>
                        <span style="flex: 1 1 auto;"></span>
                        <span>{{unresolvedMoreCount}}</span>
                      </mat-list-item>

                      <mat-list-item >
                        <p style="margin-top: 1rem;">Up to {{unreslovedComptDayLimit}} days</p>
                        <span style="flex: 1 1 auto;"></span>
                        <span>{{unresolvedUptoCount}}</span>
                      </mat-list-item>
                  </mat-list>

                  <mat-divider></mat-divider>

              </mat-card>
            </div>

            <!--QR ID concise usage report-->
            <div class="col-sm-8">
              
                
              <mat-card>

                <mat-progress-bar *ngIf="enableQrIdUsageRptProgressBar" mode="indeterminate"></mat-progress-bar>
                <mat-toolbar>
                  <span>QR ID Distribution Details</span>
                  <span style="flex: 1 1 auto;"></span>
                  <button mat-icon-button class="float-right" style="line-height: 0px;" (click)="popQrIdConciseUsageRpt()">
                      <mat-icon svgIcon="refreshIcon"></mat-icon>
                    </button>
                </mat-toolbar>
                
                <!--Head office QR ID Usage-->
                <mat-card-content *ngIf="headOffice">

                  <table class="table">
                    <thead>
                      <tr>
                        <th>QR ID Received</th>
                        <th>Allotted to {{branchMenuName}}</th>
                        <!--<th>Assigned</th>
                        <th>Unassigned</th>-->
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>{{qrIdUsageModel.totalQRIdAlloted}}</td>
                        <td>{{qrIdUsageModel.totalQRIdAllottedToBranch}}</td>
                        <!--<td><a routerLink="/legalentity/portal/qr-assinged/rpt">{{qrIdUsageModel.totalQRIdAssigned == null ? 0 : qrIdUsageModel.totalQRIdAssigned}}</a></td>
                        <td>{{qrIdUsageModel.totalPendingQRId}}</td>-->
                      </tr>
                    </tbody>
                  </table>

                  <!--<mat-list>
                    <mat-list-item  >
                      
                      <p style="margin-top: 1rem;">Allotted</p>
                      <span style="flex: 1 1 auto;"></span>
                      <a routerLink=".">{{qrIdUsageModel.totalQRIdAlloted == null ? 0 : qrIdUsageModel.totalQRIdAlloted}}</a>
                    </mat-list-item>
                    
                    <mat-divider></mat-divider>

                    <mat-list-item  >
                      
                        <p style="margin-top: 1rem;">Assigned</p>
                        <span style="flex: 1 1 auto;"></span>
                        <a routerLink="/legalentity/portal/qr-assinged/rpt">{{qrIdUsageModel.totalQRIdAssigned == null ? 0 : qrIdUsageModel.totalQRIdAssigned}}</a>
                      </mat-list-item>
                      
                      <mat-divider></mat-divider>

                      <mat-list-item  >
                      
                          <p style="margin-top: 1rem;">Unassigned</p>
                          <span style="flex: 1 1 auto;"></span>
                          <a routerLink=".">{{qrIdUsageModel.totalPendingQRId == null ? 0 : qrIdUsageModel.totalPendingQRId}}</a>
                        </mat-list-item>

                  </mat-list> -->
                </mat-card-content>

                <!--Branch Office QR ID Usage-->

                <mat-card-content *ngIf="!headOffice">
                  <table class="table">
                    <thead>
                      <tr>
                        <!--<th>QR ID Received</th>-->
                        <th>Allotted</th>
                        <th>Assigned</th>
                        <th>Unassigned</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>{{qrIdUsageModel.totalQRIdAlloted}}</td>
                        <!--<td>{{qrIdUsageModel.totalQRIdAllottedToBranch}}</td>-->
                        <td><a routerLink="/legalentity/portal/qr-assinged/rpt">{{qrIdUsageModel.totalQRIdAssigned == null ? 0 : qrIdUsageModel.totalQRIdAssigned}}</a></td>
                        <td>{{qrIdUsageModel.totalPendingQRId}}</td>
                      </tr>
                    </tbody>
                  </table>
                </mat-card-content>

                <mat-card-content *ngIf="headOffice">
                   <mat-progress-bar *ngIf="enableBranchQrIdRtpProgressBar" mode="indeterminate"></mat-progress-bar>

                   <!--<mat-toolbar>
                      <span>QR ID Distribution Details</span>
                      <span style="flex: 1 1 auto;"></span>
                      <button mat-icon-button class="float-right" style="line-height: 0px;" (click)="popBranchWiseAllottedQrIdRpt()">
                          <mat-icon svgIcon="refreshIcon"></mat-icon>
                        </button>
                  </mat-toolbar>-->

                  <mat-form-field>
                      <input matInput (keyup) = "applyFilter($event.target.value)" placeholder="Search {{legalEntityMenuPrefModel.branchMenuName}}" autocomplete="OFF" />
                  </mat-form-field>
                  <div class="mat-elevation-z8">
                      <table mat-table [dataSource]="dataSource" matSort>

                          <ng-container matColumnDef="srNo">
                              <th mat-header-cell *matHeaderCellDef>Sr. No.</th>
                              <td mat-cell *matCellDef="let i=index">{{ (paginator.pageSize * paginator.pageIndex) + i+1 }}</td>
                          </ng-container>

                          <ng-container matColumnDef="branchName">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{branchMenuName}}</th>
                              <td mat-cell *matCellDef="let element">{{element.branchName}}</td>
                          </ng-container>

                          <ng-container matColumnDef="qrIdAllottedCount">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header>Allotted</th>
                              <td mat-cell *matCellDef="let element">{{element.qrIdAllottedCount}}</td>
                          </ng-container>

                          <ng-container matColumnDef="qrIdAssignedCount">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header>Assigned</th>
                              <td mat-cell *matCellDef="let element">{{element.qrIdAssignedCount}}</td>
                          </ng-container>

                          <ng-container matColumnDef="qrIdPendingCount">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header>Unassigned</th>
                              <td mat-cell *matCellDef="let element">{{element.qrIdPendingCount}}</td>
                          </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

                      </table>

                      <mat-paginator 
                        [length] = "allottedQrIdBranchListCount" 
                        [pageSize] = "pageSize"
                        [pageSizeOptions] = "pageSizeOption">
                      </mat-paginator>
                  </div>

                </mat-card-content>

              </mat-card>

            </div>

            <!--Legal entity branch concise report-->
            <!--<div class="col-sm-4">
              <div *ngIf="headOffice">
                  <mat-progress-bar mode="indeterminate" *ngIf="enableBranchConciseRtpProgressBar"></mat-progress-bar>

                  <mat-card>
                    <mat-card-header>
                        <div class="clearfix" style="width: 100%;">
                            <mat-card-title class="float-left" >{{legalEntityMenuPrefModel.branchMenuName}} Details</mat-card-title>
                            <button mat-icon-button class="float-right" style="line-height: 0px;" (click)="popBranchConciseRpt()">
                              <mat-icon svgIcon="refreshIcon"></mat-icon>
                            </button>
                        </div>
                    </mat-card-header>
                    <mat-card-content>
                      <mat-list>
    
                        <mat-list-item>
                            <p style="margin-top: 1rem;">Total</p>
                            <span style="flex: 1 1 auto;"></span>
                            <a routerLink=".">{{totalBranchCount == null ? 0 : totalBranchCount}}</a>
                        </mat-list-item>
    
                      </mat-list>
                    </mat-card-content>
                  </mat-card>
              </div>
            </div>-->

          </div>

        </div>
      </div>

    </div>
  </div>
</div>