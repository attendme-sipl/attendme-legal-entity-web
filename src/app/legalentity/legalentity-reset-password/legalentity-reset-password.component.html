



<div class="container-fluid">

  

  <div class="row">

    <div class="col-sm-12">

      <div class="row">

        <div class="col-sm-12">
         
            <mat-toolbar color="primary">

                <mat-toolbar-row style="background-color: #343a40">
                    <a routerLink="." style="text-decoration: none;"> 
                        <mat-icon svgIcon="attendme-logo"
                        style="font-size:30px; height:30px; width:30px;"></mat-icon>
                        Attendme 
                    </a>
                    <span style="flex: 1 1 auto;"></span>
                    <div class="btn-group">
              
                        <button type="button" class="btn btn-secondary dropdown-toggle"
                         data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                         {{userName}}
                        </button>
              
                        <div class="dropdown-menu">
                            <button class="dropdown-item button-link" style="cursor:pointer;" (click)="logout()">
                             Logout
                            </button>
                        </div>
                    </div>
                </mat-toolbar-row>
                
              </mat-toolbar>

        </div>

      </div>

      <form #resetPasswordForm = "ngForm" (ngSubmit) = "resetPassword(resetPasswordForm)">

          

        <div class="row">

          <div class="col-sm-12" style="overflow: scroll;">

              
          
            <div class="centered" style="width:40%;  border:1px solid gray; padding: 20px 20px;">
            
                <div class="row">
                    <div class="col-sm-12" >
                      <h5 class="text-danger">Before proceeding further, it is mandatory to reset your password</h5>
                    </div>
                  </div> 
              
              <div class="row">
                <div class="col-sm-12">
                  <h3>Reset Password</h3>
                </div>
              </div>

              <div class="row">

                <div class="col-sm-12">

                 <div class="form-group">

                  <input type="password" class="form-control" placeholder="Enter new password" 
                  required
                  data-toggle="tooltip" data-placement="top" title= "Enter new password"
                  name="newPassword" [(ngModel)]="newPassword" #newPasswordModel = "ngModel"
                  [ngClass]="{'is-invalid': (resetPasswordForm.submitted && newPasswordModel.invalid) || 
                  ((newPasswordModel.dirty && reenterNewPasswordModel.dirty) && (newPasswordModel.value != reenterNewPasswordModel.value))}"
                  /> 

                  <div *ngIf="resetPasswordForm.submitted && newPasswordModel.invalid" class="invalid-feedback">
                      Please enter new password
                      
                  </div>

                 </div>

                 <div class="form-group">

                  <input type="password" class="form-control" placeholder="Confirm new password" 
                  required
                  data-toggle="tooltip" data-placement="top" title= "Confirm new password"
                  name="reenterNewPassword" [(ngModel)]="reenterNewPassword" #reenterNewPasswordModel = "ngModel"
                  [ngClass]="{'is-invalid': (resetPasswordForm.submitted && reenterNewPasswordModel.invalid) ||
                  ((newPasswordModel.dirty && reenterNewPasswordModel.dirty) && (newPasswordModel.value != reenterNewPasswordModel.value)) 
                }"
                  /> 
            
                  <div *ngIf="resetPasswordForm.submitted && reenterNewPasswordModel.invalid" class="invalid-feedback">
                    Please re-enter new password
                  </div>
            
                 <div *ngIf="(newPasswordModel.dirty && reenterNewPasswordModel.dirty) && (newPasswordModel.value != reenterNewPasswordModel.value)" class="invalid-feedback">
                  Password does not match the confirm password
                 </div>

                 </div>

                 <div class="form-group">

                  <button type="submit" [disabled]="btnDisable" class="btn btn-success" style="width: 100%;">Submit</button>

                 </div>

                 <div *ngIf="progressBarBit" class="progress">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
                  </div>

                </div>

              </div>

            </div>

          </div>

        </div>

      </form>

    </div>

  </div>

</div>